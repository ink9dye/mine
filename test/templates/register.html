{% extends "base.html" %}
{# 继承基础模板 "base.html"，允许重用在基础模板中定义的布局和元素 #}

{% block title %}知否问答-注册{% endblock %}
{# 设置页面标题为 "知否问答-注册"，在基础模板的相应title块中展示 #}

{% block head %}
{# 开始定义head块的内容，可添加特定的CSS和JavaScript文件 #}
<meta charset="UTF-8"> <!-- 确保页面支持中文字符 -->
<script src="{{url_for('static',filename='jquery/jquery.3.6.min.js')}}"></script>
{# 引入jQuery库，使用Flask的url_for函数来定位静态文件 #}
<script src="{{url_for('static',filename='js/register.js')}}"></script>
{# 引入页面特定的JavaScript文件，用于处理注册逻辑等 #}
{% endblock %}

{% block body %}
{# 开始定义body块的内容，这是用户交云的主要部分 #}
<div class="row mt-4">
    <div class="col"></div>
    {# 使用Bootstrap的栅格系统来进行布局，这里留出两边的空列以居中表单 #}
    <div class="col">
            <h2 class="text-center">注册</h2>
            <form method="POST" action="{{ url_for('auth.register') }}">
                {{ form.hidden_tag() }}
                <div class="form-group">
                    <label for="email">邮箱地址</label>
                    {{ form.email(class="form-control" + (" is-invalid" if form.email.errors else "")) }}
                    {% if form.email.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.email.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="captcha">验证码</label>
                    <div class="input-group">
                        {{ form.captcha(class="form-control" + (" is-invalid" if form.captcha.errors else "")) }}
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" id="captcha-btn">获取验证码</button>
                        </div>
                        {% if form.captcha.errors %}
                        <div class="invalid-feedback" style="display: block;">
                            {% for error in form.captcha.errors %}
                            {{ error }}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="form-group">
                    <label for="username">用户名</label>
                    {{ form.username(class="form-control" + (" is-invalid" if form.username.errors else "")) }}
                    {% if form.username.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.username.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="password">密码</label>
                    {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else "")) }}
                    {% if form.password.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.password.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="password2">确认密码</label>
                    {{ form.password_confirm(class="form-control" + (" is-invalid" if form.password_confirm.errors else "")) }}
                    {% if form.password_confirm.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.password_confirm.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <button type="submit" class="btn btn-primary btn-block">立即注册</button>
            </form>
        </div>
        <div class="col"></div>
        {# 表单两侧的空列结束 #}
    </div>
{% endblock %}
